{"version":3,"sources":["webpack:///src/components/newOrder.vue","webpack:///./src/assets/js/map.js","webpack:///./src/components/newOrder.vue?2ff5","webpack:///./src/components/newOrder.vue"],"names":["newOrder","ak","_this","this","getModelList","promise_default","a","resolve","reject","window","init","BMap","script","document","createElement","src","onerror","body","appendChild","self","enableScrollWheelZoom","myValue","Geocoder","map","value","business","addressComponents","streetNumber","province","city","district","setPlace","_this2","modelType","_this3","dateTime","top","header","sliderBar","slidebar","components_newOrder","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","directives","name","rawName","expression","attrs","type","id","domProps","on","click","orderDate","input","$event","target","composing","reserveDate","padding","placeholder","community","change","$$selectedVal","Array","prototype","filter","call","options","o","selected","_value","multiple","_l","item","_s","modelName","address","margin-left","createOrder","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.ebc463492734c56203b5.js","sourcesContent":["<template>\n  <div class=\"col-sm-9 main\">\n    <h3 class=\"main-title\">新建订单</h3>\n    <div class=\"row placeholders customer-inline\">\n        <div class=\"col-sm-4\" style=\"width:35%;\">\n          <label>下户预约时间</label>\n          <input type=\"text\" class=\"form-control datetime\" id=\"orderDate\" v-model=\"reserveDate\" @click=\"orderDate\">\n        </div>\n        <div class=\"col-sm-4\" style=\"padding:0;width:32%;\">\n          <label>小区名称</label>\n          <input type=\"text\" class=\"form-control\" v-model=\"community\" placeholder=\"小区名称\" style=\"width:58%;\">\n        </div>        \n        <div class=\"col-sm-4\" style=\"padding:0;width:32%;\">\n          <label>下户类型</label>\n              <select class=\"form-control\" v-model=\"modelType\">\n                <option value=\"\">请选择类型</option>\n                <option v-for=\"item in typeOptions\" :value=\"item.id\">{{item.modelName}}</option>\n              </select>\n        </div>\n        <div class=\"col-sm-8\">\n          <label>下户地址</label>\n          <input type=\"text\" id=\"suggestId\" class=\"form-control\" placeholder=\"下户地址\" v-model=\"address\" style=\"width:80.5%;\">\n        </div>\n        <div class=\"col-sm-4\">\n          <button type=\"button\" class=\"btn btn-default yellow-bg\" style=\"width:83%;margin-left:40px;\" @click=\"createOrder\">确定</button>\n        </div>\n    </div>\n    <div id=\"BMap\"></div>\n  </div>\n</template>\n\n<script>\nimport top from '@/components/header'\nimport sliderBar from '@/components/slidebar'\nimport * as validateFun from '../assets/js/validate'\nimport '../assets/js/laydate'\nimport '../assets/css/laydate/css/laydate.css'\nimport '../assets/css/laydate/css/skin.laydate.css'\nimport {MP} from '../assets/js/map'\n\nexport default {\n  data () {\n    return {\n      reserveDate: \"\",\n      community: \"\",\n      cityInfo: {province: \"\", city: \"\", district: \"\"},\n      address: \"\",\n      modelType: \"\",\n      typeOptions:[],\n      userlocation: {lng: \"\", lat: \"\"},\n    }\n  },\n  mounted() {\n    this.$nextTick(function(){      \n      //下户类型\n      util.apiPost(api).then(res => {\n        this.typeOptions = res.getModelList;\n      });\n\n      //百度地图\n      MP(\"sXYKoWGxQfuzrTcpITiYnBHO\").then(BMap => {\n        var self = this;\n        var map = new BMap.Map(\"BMap\");            // 创建Map实例\n        var point = new BMap.Point(121.47,31.23); // 创建点坐标\n        map.centerAndZoom(point,15);\n        map.enableScrollWheelZoom();\n        var geoc = new BMap.Geocoder();\n        var ac = new BMap.Autocomplete(    //建立一个自动完成的对象\n          {\n            \"input\": \"suggestId\",\n            \"location\": map\n        });\n        var myValue;\n        ac.addEventListener(\"onconfirm\", function(e) {    //鼠标点击下拉列表后的事件\n          var _value = e.item.value;\n          myValue = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;\n          this.suggestId = myValue;\n          self.address = myValue;     \n          setPlace();\n        });\n\n        function setPlace(){\n          map.clearOverlays();    //清除地图上所有覆盖物\n          function myFun(){\n            self.userlocation = local.getResults().getPoi(0).point;    //获取第一个智能搜索的结果\n            map.centerAndZoom(self.userlocation, 15);\n            map.addOverlay(new BMap.Marker(self.userlocation));    //添加标注\n\n            geoc.getLocation(self.userlocation, function(rs){\n              //addressComponents对象可以获取到详细的地址信息\n              var addComp = rs.addressComponents;\n              var site = addComp.province + \", \" + addComp.city + \", \" + addComp.district + \", \" + addComp.street + \", \" + addComp.streetNumber;\n              self.cityInfo.province = addComp.province;\n              self.cityInfo.city = addComp.city;\n              self.cityInfo.district = addComp.district;\n              // console.log(site);\n            });\n          }\n          var local = new BMap.LocalSearch(map, { //智能搜索\n            onSearchComplete: myFun\n          });\n          local.search(myValue);\n        }\n\n        //单击地图监听事件\n        // map.addEventListener(\"click\", function(e){\n        //   console.log(e.point);   //获取到点击处的经纬度\n        //   //通过点击百度地图，可以获取到对应的point, 由point的lng、lat属性就可以获取对应的经度纬度     \n        //   var pt = e.point;\n        //   geoc.getLocation(pt, function(rs){\n        //     //addressComponents对象可以获取到详细的地址信息\n        //     var addComp = rs.addressComponents;\n        //     var site = addComp.province + \", \" + addComp.city + \", \" + addComp.district + \", \" + addComp.street + \", \" + addComp.streetNumber;\n        //     console.log(site);\n        //   });\n        // }); \n      });\n    });\n  },\n  methods: {\n    createOrder(){\n      if(!this.reserveDate){\n        util.alertMsg(\"请输入下户预约时间\");\n        return false;\n      }else if(!this.community){\n        util.alertMsg(\"请输入小区名称\");\n        return false;\n      }else if(!this.address){\n        util.alertMsg(\"请输入下户地址\");\n        return false;\n      }else if(!this.modelType){\n        util.alertMsg(\"请输入下户类型\");\n        return false;\n      }else if(!this.userlocation.lng || !this.userlocation.lat){\n        util.alertMsg(\"请选择地址坐标\");\n        return false;\n      }else{\n        console.log(this.modelType);      \n        util.msgFoo(\"创建成功\", () => {\n          this.$router.push(\"/orderRecord\");\n        });\n      }      \n    },\n    orderDate(){\n      laydate({\n        elem: '#orderDate',\n        istime: true,\n        format: 'YYYY-MM-DD hh:mm:ss', \n        choose: (dateTime) => {\n          this.reserveDate = dateTime;\n        }\n      });\n    }\n  },\n  components: {\n    top,\n    sliderBar\n   },\n}\n</script>\n<style scoped>\n#BMap{width:100%;height:580px;}\n.customer-inline{margin-left:0;}\n.col-sm-4, .col-sm-8{padding:0;}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/newOrder.vue","export function MP(ak) {\r\n    return new Promise(function (resolve, reject) {\r\n        window.init = function () {\r\n            resolve(BMap);\r\n        };\r\n        var script = document.createElement(\"script\");\r\n        script.src = \"http://api.map.baidu.com/api?v=2.0&ak=\" + ak + \"&callback=init\";\r\n        script.onerror = reject;\r\n        document.body.appendChild(script);     \r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/map.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-9 main\"},[_c('h3',{staticClass:\"main-title\"},[_vm._v(\"新建订单\")]),_vm._v(\" \"),_c('div',{staticClass:\"row placeholders customer-inline\"},[_c('div',{staticClass:\"col-sm-4\",staticStyle:{\"width\":\"35%\"}},[_c('label',[_vm._v(\"下户预约时间\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reserveDate),expression:\"reserveDate\"}],staticClass:\"form-control datetime\",attrs:{\"type\":\"text\",\"id\":\"orderDate\"},domProps:{\"value\":(_vm.reserveDate)},on:{\"click\":_vm.orderDate,\"input\":function($event){if($event.target.composing){ return; }_vm.reserveDate=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-4\",staticStyle:{\"padding\":\"0\",\"width\":\"32%\"}},[_c('label',[_vm._v(\"小区名称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.community),expression:\"community\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"58%\"},attrs:{\"type\":\"text\",\"placeholder\":\"小区名称\"},domProps:{\"value\":(_vm.community)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.community=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-4\",staticStyle:{\"padding\":\"0\",\"width\":\"32%\"}},[_c('label',[_vm._v(\"下户类型\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.modelType),expression:\"modelType\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.modelType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"请选择类型\")]),_vm._v(\" \"),_vm._l((_vm.typeOptions),function(item){return _c('option',{domProps:{\"value\":item.id}},[_vm._v(_vm._s(item.modelName))])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-8\"},[_c('label',[_vm._v(\"下户地址\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address),expression:\"address\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"80.5%\"},attrs:{\"type\":\"text\",\"id\":\"suggestId\",\"placeholder\":\"下户地址\"},domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-4\"},[_c('button',{staticClass:\"btn btn-default yellow-bg\",staticStyle:{\"width\":\"83%\",\"margin-left\":\"40px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.createOrder}},[_vm._v(\"确定\")])])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"BMap\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-6f04bb9a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/newOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f04bb9a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./newOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./newOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./newOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f04bb9a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./newOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f04bb9a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/newOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}