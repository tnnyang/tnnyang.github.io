webpackJsonp([13],{Ut53:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Cz8s"),i=a("MKSO"),r=a("spLH"),s=(a("6FUn"),a("h65/"),a("9Ezv"),{data:function(){return{beginTime:"",endTime:"",community:"",selectedType:"",typeOptions:[],orderStatus:"",statusOptions:[{text:"新建",value:1},{text:"待分配",value:2},{text:"待下户",value:3},{text:"下户中",value:4},{text:"待终审",value:5},{text:"完成",value:6},{text:"废弃",value:7}],orderRecord:[],pageSize:13,pageIndex:1,total:0,pageShow:!1,recordShow:!0,noDataShow:!1}},mounted:function(){this.$nextTick(function(){this.getOrderRecord(),this.getType()})},methods:{getOrderRecord:function(e){var t=this,a={commuity:this.community,modelId:0==this.selectedType?"":this.selectedType,beginTime:this.beginTime,endTime:this.endTime,orderStatus:0==this.orderStatus?"":this.orderStatus,pageSize:this.pageSize,pageIndex:e||this.pageIndex};util.apiPost(api,a).then(function(a){if(0==a.getOrderRecord.code){var o=a.getOrderRecord.data,i=e||t.pageIndex,r=14*i-15,s=14*i-1;r<0&&(r=0),t.orderRecord=o.dataList.splice(r,s),t.total=a.getOrderRecord.total,0==o.dataList.length?(t.recordShow=!1,t.noDataShow=!0):(t.recordShow=!0,t.noDataShow=!1),o.pages<=1?t.pageShow=!1:t.pageShow=!0}})},getType:function(){var e=this;util.apiPost(api).then(function(t){e.typeOptions=t.getModelList})},search:function(){this.getOrderRecord(),this.$store.dispatch("curPage")},chooseBeginTime:function(){var e=this;laydate({elem:"#beginTime",istime:!0,format:"YYYY-MM-DD hh:mm:ss",choose:function(t){e.beginTime=t}})},chooseEndTime:function(){var e=this;laydate({elem:"#endTime",istime:!0,format:"YYYY-MM-DD hh:mm:ss",choose:function(t){e.endTime=t}})}},components:{top:o.a,sliderBar:i.a,pagination:r.a}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-9 main"},[a("h3",{staticClass:"main-title"},[e._v("订单记录")]),e._v(" "),a("form",{staticClass:"form-inline"},[a("div",{staticClass:"form-group",staticStyle:{width:"22.5%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.beginTime,expression:"beginTime"}],staticClass:"form-control datetime",staticStyle:{width:"100%"},attrs:{type:"text",id:"beginTime"},domProps:{value:e.beginTime},on:{click:e.chooseBeginTime,input:function(t){t.target.composing||(e.beginTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group",staticStyle:{"margin-left":"5px",width:"25%"}},[a("label",[e._v("至")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endTime,expression:"endTime"}],staticClass:"form-control datetime",staticStyle:{"margin-left":"5px",width:"90%"},attrs:{type:"text",id:"endTime"},domProps:{value:e.endTime},on:{click:e.chooseEndTime,input:function(t){t.target.composing||(e.endTime=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group",staticStyle:{width:"15%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.community,expression:"community"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入小区名"},domProps:{value:e.community},on:{input:function(t){t.target.composing||(e.community=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedType,expression:"selectedType"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("请选择类型")]),e._v(" "),e._l(e.typeOptions,function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.modelName))])})],2)]),e._v(" "),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.orderStatus,expression:"orderStatus"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.orderStatus=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("请选择状态")]),e._v(" "),e._l(e.statusOptions,function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.text))])})],2)]),e._v(" "),a("button",{staticClass:"btn btn-default yellow-bg",attrs:{type:"button"},on:{click:e.search}},[e._v("查询")])]),e._v(" "),a("div",{staticClass:"table-responsive",staticStyle:{"margin-top":"30px"}},[a("table",{staticClass:"table",class:{noborder:!e.recordShow}},[e._m(0),e._v(" "),a("tbody",[e._l(e.orderRecord,function(t){return a("tr",{directives:[{name:"show",rawName:"v-show",value:e.recordShow,expression:"recordShow"}]},[a("td",[e._v(e._s(t.orderNo))]),e._v(" "),a("td",[e._v(e._s(t.orderCustCompoundName))]),e._v(" "),a("td",[e._v(e._s(t.createTime))]),e._v(" "),a("td",[e._v(e._s(t.modelPrice))]),e._v(" "),a("td",[e._v(e._s(t.modelName))]),e._v(" "),a("td",[1==t.orderState?a("span",[e._v("新建")]):2==t.orderState?a("span",[e._v("待分配")]):3==t.orderState?a("span",[e._v("待下户")]):4==t.orderState?a("span",[e._v("下户中")]):5==t.orderState?a("span",[e._v("待终审")]):6==t.orderState?a("span",[e._v("完成")]):a("span",[e._v("废弃")])]),e._v(" "),a("td",[a("router-link",{attrs:{to:"/overDetail/"+t.id}},[e._v("查看")])],1)])}),e._v(" "),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.noDataShow,expression:"noDataShow"}]},[a("td",{staticStyle:{padding:"50px 0 50px"},attrs:{colspan:"7"}},[e._v("暂无数据")])])],2)])]),e._v(" "),e.pageShow?a("pagination",{attrs:{total:e.total,"current-page":e.pageIndex,"page-size":e.pageSize},on:{pageChange:e.getOrderRecord}}):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("订单号")]),e._v(" "),a("th",[e._v("小区名")]),e._v(" "),a("th",[e._v("下单时间")]),e._v(" "),a("th",[e._v("单价")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("状态")]),e._v(" "),a("th",[e._v("操作")])])])}]},l=a("Z0/y")(s,n,!1,null,null,null);t.default=l.exports}});
//# sourceMappingURL=13.96b4d50f5f59df269500.js.map